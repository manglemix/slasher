[gd_scene load_steps=14 format=2]

[ext_resource path="res://player/camera/lerper.gd" type="Script" id=1]
[ext_resource path="res://player/protagonist.tscn" type="PackedScene" id=2]
[ext_resource path="res://flow_map/shader/basic_flowmap_material.shader" type="Shader" id=3]
[ext_resource path="res://grid_map/level_grid.tres" type="MeshLibrary" id=4]
[ext_resource path="res://flow_map/flowmap2.png" type="Texture" id=5]
[ext_resource path="res://flow_map/background2.png" type="Texture" id=6]
[ext_resource path="res://bot/bot.tscn" type="PackedScene" id=7]
[ext_resource path="res://ui/ui.tscn" type="PackedScene" id=8]
[ext_resource path="res://medieval_level/testing.gd" type="Script" id=9]

[sub_resource type="CubeMesh" id=1]
size = Vector3( 10, 0.2, 0.75 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 5, 0.1, 0.375 )

[sub_resource type="PlaneMesh" id=3]

[sub_resource type="ShaderMaterial" id=4]
shader = ExtResource( 3 )
shader_param/albedo = Color( 1, 1, 1, 1 )
shader_param/specular = null
shader_param/metallic = null
shader_param/roughness = null
shader_param/metallic_texture_channel = Plane( 1, 0, 0, 0 )
shader_param/roughness_texture_channel = Plane( 1, 0, 0, 0 )
shader_param/emission = Color( 1, 1, 1, 1 )
shader_param/emission_energy = 0.0
shader_param/refraction = null
shader_param/refraction_texture_channel = Plane( 1, 0, 0, 0 )
shader_param/uv_scale = Vector2( 1, 1 )
shader_param/uv_offset = null
shader_param/proximity_fade_distance = null
shader_param/distance_fade_min = null
shader_param/distance_fade_max = null
shader_param/normal_scale = null
shader_param/flow_normal_influence = null
shader_param/flow_map_x_channel = Plane( 1, 0, 0, 0 )
shader_param/flow_map_y_channel = Plane( 0, 1, 0, 0 )
shader_param/channel_flow_direction = Vector2( 1, -1 )
shader_param/blend_cycle = 2.0
shader_param/cycle_speed = 1.0
shader_param/flow_speed = 1.0
shader_param/noise_texture_channel = Plane( 1, 0, 0, 0 )
shader_param/flow_noise_size = Vector2( 1, 1 )
shader_param/flow_noise_influence = 1.0
shader_param/texture_albedo = ExtResource( 6 )
shader_param/texture_flow_map = ExtResource( 5 )

[node name="Spatial" type="Spatial"]
script = ExtResource( 9 )

[node name="ClassicCharacter" parent="." instance=ExtResource( 2 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0 )

[node name="Skeleton" parent="ClassicCharacter" index="0"]
bones/4/bound_children = [  ]

[node name="BoneAttachment" parent="ClassicCharacter/Skeleton" index="0"]
transform = Transform( -0.544433, -0.451297, -0.707053, -0.5155, 0.844976, -0.142393, 0.661704, 0.286963, -0.692675, -0.298464, 3.35334, 0.518313 )

[node name="ControllableCharacterMovement" parent="ClassicCharacter" index="2"]
basis_node_path = NodePath("../../Lerper/Lerper/Camera")

[node name="SoftBody" parent="ClassicCharacter" index="7"]
transform = Transform( -0.976169, 0.00128463, -0.21701, 0.0016758, 0.999997, -0.00161854, 0.217007, -0.00194363, -0.976168, -0.195, 0.418383, 0.00948172 )
total_mass = 3.0
linear_stiffness = 0.16
volume_stiffness = 0.35
attachments/0/offset = Vector3( -1.28389, -0.199784, -1.65917 )
attachments/1/offset = Vector3( -2.00066, -0.427708, -0.397247 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.132077, -0.200112, 0.038686 )
visible = false
mesh = SubResource( 1 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="MeshInstance"]

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance/StaticBody"]
shape = SubResource( 2 )

[node name="Lerper" type="Spatial" parent="."]
script = ExtResource( 1 )
_target_path = NodePath("../ClassicCharacter/CameraTarget")
_basis_target_path = NodePath(".")

[node name="Lerper" type="Spatial" parent="Lerper"]
script = ExtResource( 1 )
_target_path = NodePath(".")

[node name="Camera" type="Camera" parent="Lerper/Lerper"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.76166 )
fov = 50.0

[node name="GridMap" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.521699, -0.190844 )
mesh_library = ExtResource( 4 )
cell_size = Vector3( 0.5, 0.5, 0.5 )
data = {
"cells": PoolIntArray( 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 1073741824, 5, 0, 0, 6, 0, 1073741824, 7, 0, 1073741824, 8, 0, 0, 9, 0, 0, 10, 0, 0, 65532, 0, 0, 65533, 0, 0, 65534, 0, 0, 65535, 0, 0, 65543, 0, 786432, 65544, 0, 0, 65545, 0, 1073741824, 131079, 0, 786432, 131080, 0, 0, 196615, 0, 1073741824, 196616, 0, 1073741824, -1507313, 0, 0, -1507312, 0, 0, -1507311, 0, 0, -1507310, 0, 1073741824, -1507309, 0, 0, -1507308, 0, 0, -1507307, 0, 0, -1507306, 0, 0, -1507305, 0, 0, -1507304, 0, 0, -1507303, 0, 0, -1507302, 0, 0, -1441777, 0, 1073741824, -1441776, 0, 0, -1441771, 0, 1073741824, -1441770, 0, 0, -1441769, 0, 0, -1441768, 0, 0, -1441767, 0, 0, -1441766, 0, 0, -1376241, 0, 1073741824, -1376240, 0, 1073741824, -1376235, 0, 1073741824, -1376234, 0, 0, -1376233, 0, 0, -1376232, 0, 0, -1376231, 0, 1073741824, -1376230, 0, 0, -1310705, 0, 0, -1310704, 0, 1073741824, -1310699, 0, 1073741824, -1310698, 0, 0, -1310697, 0, 1073741824, -1310696, 0, 0, -1310695, 0, 0, -1310694, 0, 0, -1245169, 0, 1073741824, -1245168, 0, 0, -1245164, 0, 1073741824, -1245163, 0, 0, -1245162, 0, 0, -1245161, 0, 0, -1245160, 0, 0, -1245159, 0, 1073741824, -1245158, 0, 0, -1179633, 0, 0, -1179632, 0, 0, -1179627, 0, 0, -1179626, 0, 0, -1179625, 0, 0, -1179624, 0, 0, -1179623, 0, 1073741824, -1179622, 0, 0, -1114110, 0, 0, -1114109, 0, 0, -1114108, 0, 1073741824, -1114105, 0, 0, -1114102, 0, 1073741824, -1114097, 0, 0, -1114096, 0, 0, -1114091, 0, 0, -1114090, 0, 0, -1114089, 0, 1073741824, -1114088, 0, 0, -1114087, 0, 0, -1114086, 0, 0, -1048576, 0, 0, -1048575, 0, 0, -1048574, 0, 0, -1048573, 0, 0, -1048572, 0, 0, -1048569, 0, 0, -1048566, 0, 1073741824, -1048563, 0, 0, -1048562, 0, 0, -1048561, 0, 0, -1048560, 0, 1073741824, -1048559, 0, 0, -1048555, 0, 0, -1048554, 0, 0, -1048553, 0, 0, -1048552, 0, 1073741824, -1048551, 0, 0, -1048550, 0, 1073741824, -983041, 0, 1073741824, -983040, 0, 0, -983039, 0, 0, -983038, 0, 0, -983037, 0, 0, -983036, 0, 0, -983035, 0, 1073741824, -983034, 0, 0, -983033, 0, 1073741824, -983032, 0, 0, -983031, 0, 0, -983030, 0, 1073741824, -983029, 0, 0, -983028, 0, 1073741824, -983027, 0, 0, -983026, 0, 0, -983025, 0, 0, -983024, 0, 0, -983019, 0, 0, -983018, 0, 0, -983017, 0, 0, -983016, 0, 0, -983015, 0, 0, -983014, 0, 0, -917506, 0, 0, -917505, 0, 0, -917504, 0, 0, -917503, 0, 0, -917502, 0, 1073741824, -917501, 0, 0, -917500, 0, 0, -917499, 0, 0, -917498, 0, 0, -917497, 0, 1073741824, -917496, 0, 0, -917495, 0, 0, -917494, 0, 0, -917493, 0, 0, -917492, 0, 0, -917491, 0, 0, -917490, 0, 0, -917489, 0, 536870912, -917488, 0, 0, -917481, 0, 0, -917480, 0, 1073741824, -917479, 0, 1073741824, -917478, 0, 0, -851970, 0, 0, -851969, 0, 0, -851968, 0, 0, -851967, 0, 0, -851966, 0, 536870912, -851965, 0, 0, -851964, 0, 0, -851963, 0, 0, -851962, 0, 0, -851961, 0, 0, -851960, 0, 0, -851959, 0, 0, -851958, 0, 0, -851957, 0, 0, -851945, 0, 0, -851944, 0, 0, -851943, 0, 0, -851942, 0, 0, -786435, 0, 0, -786434, 0, 0, -786433, 0, 0, -786432, 0, 0, -786431, 0, 0, -786430, 0, 0, -786429, 0, 0, -786428, 0, 0, -786409, 0, 0, -786408, 0, 0, -786407, 0, 0, -786406, 0, 0, -720900, 0, 0, -720899, 0, 1073741824, -720898, 0, 0, -720897, 0, 0, -720896, 0, 0, -720895, 0, 0, -720894, 0, 0, -720893, 0, 1073741824, -720892, 0, 0, -720873, 0, 0, -720872, 0, 0, -720871, 0, 0, -720870, 0, 1073741824, -655364, 0, 0, -655363, 0, 0, -655362, 0, 1073741824, -655361, 0, 0, -655360, 0, 0, -655359, 0, 1073741824, -655358, 0, 0, -655357, 0, 0, -655356, 0, 0, -655337, 0, 0, -655336, 0, 0, -655335, 0, 0, -655334, 0, 0, -589828, 0, 1073741824, -589827, 0, 0, -589826, 0, 0, -589825, 0, 0, -589824, 0, 0, -589823, 0, 0, -589822, 0, 0, -589821, 0, 0, -589820, 0, 0, -589801, 0, 0, -589800, 0, 0, -589799, 0, 0, -589798, 0, 1073741824, -524292, 0, 0, -524291, 0, 0, -524290, 0, 0, -524289, 0, 0, -524288, 0, 0, -524287, 0, 0, -524286, 0, 0, -524285, 0, 0, -524284, 0, 0, -524263, 0, 1073741824, -524262, 0, 0, -458756, 0, 1073741824, -458755, 0, 0, -458754, 0, 0, -458753, 0, 1073741824, -458752, 0, 0, -458751, 0, 0, -458750, 0, 0, -458749, 0, 0, -458748, 0, 0, -458727, 0, 0, -458726, 0, 0, -393220, 0, 0, -393219, 0, 0, -393218, 0, 0, -393217, 0, 0, -393216, 0, 0, -393215, 0, 0, -393214, 0, 0, -393213, 0, 0, -393212, 0, 0, -393191, 0, 0, -393190, 0, 0, -327684, 0, 0, -327683, 0, 0, -327682, 0, 0, -327681, 0, 0, -327680, 0, 0, -327679, 0, 0, -327678, 0, 0, -327677, 0, 0, -327676, 0, 0, -327675, 0, 0, -327674, 0, 0, -327673, 0, 0, -327672, 0, 0, -327671, 0, 0, -327670, 0, 0, -327669, 0, 0, -327655, 0, 0, -327654, 0, 0, -262148, 0, 0, -262147, 0, 0, -262146, 0, 0, -262145, 0, 0, -262144, 0, 0, -262143, 0, 0, -262142, 0, 0, -262141, 0, 0, -262140, 0, 0, -262139, 0, 0, -262138, 0, 0, -262137, 0, 0, -262136, 0, 0, -262135, 0, 0, -262134, 0, 0, -262133, 0, 0, -262119, 0, 0, -262118, 0, 0, -196612, 0, 1073741824, -196611, 0, 0, -196610, 0, 0, -196609, 0, 0, -196608, 0, 131072, -196607, 0, 131072, -196606, 0, 131072, -196605, 0, 1073872896, -196604, 0, 131072, -196603, 0, 131072, -196602, 0, 131072, -196601, 0, 0, -196600, 0, 0, -196599, 0, 0, -196598, 0, 0, -196597, 0, 1073741824, -131076, 0, 131072, -131075, 0, 1073872896, -131074, 0, 131072, -131073, 0, 131072, -131072, 0, 131072, -131071, 0, 131072, -131070, 0, 131072, -131069, 0, 131072, -131068, 0, 131072, -131067, 0, 131072, -131066, 0, 131072, -131065, 0, 0, -131064, 0, 0, -131063, 0, 0, -131062, 0, 0, -131061, 0, 0, -65540, 0, 131072, -65539, 0, 131072, -65538, 0, 131072, -65537, 0, 131072, -65536, 0, 0, -65535, 0, 0, -65534, 0, 0, -65533, 0, 1073741824, -65532, 0, 0, -65531, 0, 0, -65530, 0, 0, -65529, 0, 0, -65528, 0, 0, -65527, 0, 0, -65526, 0, 0, -65525, 0, 0, -4, 0, 0, -3, 0, 0, -2, 0, 0, -1, 0, 0, 4, 65533, 0, 65540, 65533, 0, 131076, 65533, 0, 196612, 65533, 0, -983022, 65533, 1073741824, -983021, 65533, 0, -917486, 65533, 0, -917485, 65533, 0, -851950, 65533, 0, -851949, 65533, 0, -786414, 65533, 0, -720878, 65533, 0, -655348, 65533, 0, -655342, 65533, 0, -589812, 65533, 0, -524276, 65533, 0, -196604, 65533, 0, -131068, 65533, 0, -65532, 65533, 0, 2, 65535, 0, 4, 65535, 0, 6, 65535, 0, 65538, 65535, 0, 65540, 65535, 0, 65542, 65535, 0, -983017, 65535, 0, -917492, 65535, 0, -917491, 65535, 0, -917490, 65535, 0, -917489, 65535, 0, -917488, 65535, 0, -917481, 65535, 0, -917480, 65535, 0, -851964, 65535, 0, -851963, 65535, 0, -851962, 65535, 0, -851961, 65535, 0, -851960, 65535, 0, -851959, 65535, 0, -851958, 65535, 0, -851957, 65535, 0, -851956, 65535, 0, -851954, 65535, 0, -851952, 65535, 0, -851945, 65535, 0, -851944, 65535, 0, -786426, 65535, 0, -786424, 65535, 0, -786422, 65535, 0, -786409, 65535, 0, -786408, 65535, 0, -720890, 65535, 0, -720888, 65535, 0, -720886, 65535, 0, -720873, 65535, 0, -720872, 65535, 0, -655354, 65535, 0, -655352, 65535, 0, -655350, 65535, 0, -655337, 65535, 1073741824, -589818, 65535, 0, -589816, 65535, 0, -589814, 65535, 0, -589801, 65535, 0, -524282, 65535, 0, -524280, 65535, 0, -524278, 65535, 0, -524265, 65535, 0, -458746, 65535, 0, -458744, 65535, 0, -458742, 65535, 0, -393210, 65535, 0, -393208, 65535, 0, -393206, 65535, 0, -327674, 65535, 0, -327672, 65535, 0, -327670, 65535, 0 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 1, -1 )
}

[node name="MeshInstance2" type="MeshInstance" parent="."]
transform = Transform( 54.013, 0, 0, 0, -1.43753e-06, -32.8869, 0, 32.8869, -1.43753e-06, 0, 0, -44.0155 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="bot" parent="." instance=ExtResource( 7 )]
transform = Transform( -0.0394233, 0, -0.11901, 0, 0.138705, 0, -0.131669, 0, 0.0436168, 3.09491, -0.0669408, -0.097175 )

[node name="UI" parent="." instance=ExtResource( 8 )]

[editable path="ClassicCharacter"]
